(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-64acfd23"],{"28f2":function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"brand-sys-add"},[a("div",{staticClass:"card-box"},[a("a-form-model",{ref:"ruleForm",attrs:{model:e.form,rules:e.rules,"label-col":e.labelCol,"wrapper-col":e.wrapperCol}},[a("div",{staticClass:"flex-b"},[a("p",{staticClass:"brand"},[e._v("基本信息")]),a("a",{attrs:{href:"javascript:;"},on:{click:function(t){return e.$router.back(-1)}}},[e._v("返回上一页")])]),a("a-form-model-item",{ref:"name",attrs:{label:"品牌名称",prop:"name"}},[a("a-input",{on:{blur:function(){e.$refs.name.onFieldBlur()}},model:{value:e.form.name,callback:function(t){e.$set(e.form,"name",t)},expression:"form.name"}})],1),a("a-form-model-item",{attrs:{label:"奖品状态",prop:"status"}},[a("a-checkbox-group",{model:{value:e.form.status,callback:function(t){e.$set(e.form,"status",t)},expression:"form.status"}},[a("a-checkbox",{attrs:{value:"1",name:"status"}},[e._v(" 上架 ")])],1)],1),a("a-form-model-item",{attrs:{label:"展示平台",prop:"platform"}},[a("a-select",{attrs:{"default-value":"1"},model:{value:e.form.platform,callback:function(t){e.$set(e.form,"platform",t)},expression:"form.platform"}},[a("a-select-option",{attrs:{value:"1"}},[e._v(" 微信 ")]),a("a-select-option",{attrs:{value:"2"}},[e._v(" 抖音 ")])],1)],1),a("a-form-model-item",{attrs:{label:"活动状态",prop:"activityStatus"}},[a("a-select",{attrs:{"default-value":"1"},model:{value:e.form.activityStatus,callback:function(t){e.$set(e.form,"activityStatus",t)},expression:"form.activityStatus"}},[a("a-select-option",{attrs:{value:"1"}},[e._v(" 未开始 ")]),a("a-select-option",{attrs:{value:"2"}},[e._v(" 进行中 ")]),a("a-select-option",{attrs:{value:"3"}},[e._v(" 已结束 ")])],1)],1),a("p",{staticClass:"brand"},[e._v("礼物信息")]),a("a-form-model-item",{ref:"giftName",attrs:{label:"礼物名称",prop:"giftName"}},[a("a-input",{on:{blur:function(){e.$refs.giftName.onFieldBlur()}},model:{value:e.form.giftName,callback:function(t){e.$set(e.form,"giftName",t)},expression:"form.giftName"}})],1),a("a-form-model-item",{ref:"short",attrs:{label:"礼物简称",prop:"short"}},[a("a-input",{on:{blur:function(){e.$refs.short.onFieldBlur()}},model:{value:e.form.short,callback:function(t){e.$set(e.form,"short",t)},expression:"form.short"}})],1),a("a-form-model-item",{ref:"logo",attrs:{label:"礼物图片",prop:"logo"}},[a("a-upload",{staticClass:"avatar-uploader",attrs:{name:"avatar","list-type":"picture-card","show-upload-list":!1,"before-upload":e.beforeUpload},on:{change:e.handleChange}},[e.form.logo?a("img",{staticClass:"logo",attrs:{src:e.form.logo}}):a("div",[a("a-icon",{attrs:{type:e.loading?"loading":"plus"}})],1)])],1),a("a-form-model-item",{attrs:{label:"活动日期",prop:"activityDate"}},[a("a-date-picker",{staticStyle:{width:"100%"},attrs:{type:"date",placeholder:"请选择活动日期"},model:{value:e.form.activityDate,callback:function(t){e.$set(e.form,"activityDate",t)},expression:"form.activityDate"}})],1),a("a-form-model-item",{ref:"getTime",attrs:{label:"礼物获得时间设置",prop:"getTime"}},[a("div",{staticClass:"flex align-center"},[a("a-input",{staticClass:"btn-mr",attrs:{placeholder:"设置时间"},on:{blur:function(){e.$refs.getTime.onFieldBlur()}},model:{value:e.form.getTime,callback:function(t){e.$set(e.form,"getTime",t)},expression:"form.getTime"}}),e._v("S ")],1)]),a("p",{staticClass:"brand btn-mr"},[e._v("礼物发放设置")]),a("p",[a("a-button",{attrs:{type:"primary"},on:{click:e.addItem}},[e._v("添加项")])],1),a("div",{staticClass:"flex align-center"},[a("a-form-model-item",{staticClass:"f1",attrs:{labelCol:{span:4},wrapperCol:{span:20},label:"礼物发放时间",prop:"giftTime"}},[a("a-time-picker",{staticStyle:{width:"100%"},model:{value:e.form.giftTime,callback:function(t){e.$set(e.form,"giftTime",t)},expression:"form.giftTime"}})],1)],1),e._l(e.list,(function(t,r){return a("a-form-model-item",{key:r,attrs:{labelCol:{span:4},wrapperCol:{span:20},label:"礼物数量",prop:"giftNumber"}},[a("div",{staticClass:"flex align-start"},[a("div",{staticClass:"flex align-center f1"},[a("span",{staticClass:"label"},[e._v("微信数量")]),a("a-input",{attrs:{placeholder:"礼物数量"},model:{value:e.form.giftNumber[0].wx,callback:function(t){e.$set(e.form.giftNumber[0],"wx",t)},expression:"form.giftNumber[0].wx"}})],1),a("div",{staticClass:"flex align-center f1"},[a("span",{staticClass:"label"},[e._v("已领数量")]),a("a-input",{attrs:{placeholder:"已领数量"},model:{value:e.form.giftNumber[0].get,callback:function(t){e.$set(e.form.giftNumber[0],"get",t)},expression:"form.giftNumber[0].get"}})],1),a("div",{staticClass:"f1"},[a("div",{staticClass:"flex align-center"},[a("span",{staticClass:"label"},[e._v("剩余数量")]),a("a-input",{attrs:{placeholder:"礼物数量"},model:{value:e.form.giftNumber[0].available,callback:function(t){e.$set(e.form.giftNumber[0],"available",t)},expression:"form.giftNumber[0].available"}})],1),a("div",{staticClass:"flex align-center"},[a("span",{staticClass:"label"},[e._v("设置虚拟剩余数量")]),a("a-input",{attrs:{placeholder:"礼物数量"},model:{value:e.form.giftNumber[0].mock,callback:function(t){e.$set(e.form.giftNumber[0],"mock",t)},expression:"form.giftNumber[0].mock"}})],1),a("div",{staticClass:"flex align-center"},[a("span",{staticClass:"label"},[e._v("前端显示剩余数量")]),a("a-input",{attrs:{placeholder:"礼物数量"},model:{value:e.form.giftNumber[0].front,callback:function(t){e.$set(e.form.giftNumber[0],"front",t)},expression:"form.giftNumber[0].front"}})],1)])])])}))],2),a("div",{staticClass:"group-btn flex-e align-center"},[a("a-button",{staticClass:"btn-mr",on:{click:e.$close}},[e._v("取消")]),a("a-button",{attrs:{type:"primary"},on:{click:e.save}},[e._v("保存")])],1)],1),a("a-modal",{staticClass:"tip-modal",attrs:{title:!1,visible:e.visible,okText:"仍然修改",width:"350px"},on:{ok:e.handleOk,cancel:function(t){e.visible=!1}}},[a("p",{staticClass:"modal-title"},[e._v("修改确认")]),a("p",{staticClass:"modal-desc"},[e._v("当前礼物状态为进行中，请谨慎修改")])])],1)},i=[],l=a("1da1"),s=(a("d3b7"),a("96cf"),{data:function(){return{visible:!0,labelCol:{span:4},wrapperCol:{span:18},loading:!1,form:{name:"",status:[],platform:[],activityStatus:"",giftName:"",short:"",logo:"",activityDate:"",getTime:"",giftTime:"",giftNumber:[{wx:"",get:"",available:"",mock:"",front:""}]},rules:{name:[{required:!0,message:"此项必填",trigger:"blur"}],status:[{required:!0,message:"此项必填",trigger:"blur"}],platform:[{required:!0,message:"此项必填",trigger:"blur"}],giftName:[{required:!0,message:"此项必填",trigger:"blur"}],short:[{required:!0,message:"此项必填",trigger:"blur"}],logo:[{required:!0,message:"此项必填",trigger:"blur"}],activityDate:[{required:!0,message:"此项必填",trigger:"blur"}],getTime:[{required:!0,message:"此项必填",trigger:"blur"}],giftTime:[{required:!0,message:"此项必填",trigger:"blur"}],giftNumber:[{required:!0,message:"此项必填",trigger:"blur"}]},fileList:[],imgList:[],previewVisible:!1,previewImage:"",item:{wx:"",get:"",available:"",mock:"",front:""},list:[]}},methods:{addItem:function(){this.list.push(this.item)},handleOk:function(){this.$message.success("修改成功"),this.$close()},save:function(){},getBase64:function(e,t){var a=new FileReader;a.addEventListener("load",(function(){return t(a.result)})),a.readAsDataURL(e)},handleChange:function(e){var t=this;"uploading"!==e.file.status?"done"===e.file.status&&this.getBase64(e.file.originFileObj,(function(e){t.form.logo=e,t.loading=!1})):this.loading=!0},beforeUpload:function(e){var t=this;return this.getBase64(e,(function(e){t.form.logo=e})),!1},handleCancel:function(){this.previewVisible=!1},handleBannerPreview:function(e){var t=this;return Object(l["a"])(regeneratorRuntime.mark((function a(){return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:if(e.url||e.preview){a.next=4;break}return a.next=3,o(e.originFileObj);case 3:e.preview=a.sent;case 4:t.previewImage=e.url||e.preview,t.previewVisible=!0;case 6:case"end":return a.stop()}}),a)})))()}}});function o(e){return new Promise((function(t,a){var r=new FileReader;r.readAsDataURL(e),r.onload=function(){return t(r.result)},r.onerror=function(e){return a(e)}}))}var n=s,m=(a("eb02"),a("2877")),c=Object(m["a"])(n,r,i,!1,null,"66e3f35e",null);t["default"]=c.exports},df8a:function(e,t,a){},eb02:function(e,t,a){"use strict";a("df8a")}}]);