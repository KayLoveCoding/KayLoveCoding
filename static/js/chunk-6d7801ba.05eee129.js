(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-6d7801ba"],{2071:function(e,r,t){},"3c42":function(e,r,t){"use strict";t.r(r);var a=function(){var e=this,r=e.$createElement,t=e._self._c||r;return t("div",{staticClass:"brand-sys-add"},[t("div",{staticClass:"card-box"},[t("a-form-model",{ref:"ruleForm",attrs:{model:e.form,rules:e.rules,"label-col":e.labelCol,"wrapper-col":e.wrapperCol}},[t("div",{staticClass:"flex-b"},[t("p",{staticClass:"brand"},[e._v("渠道")]),t("a",{attrs:{href:"javascript:;"},on:{click:function(r){return e.$router.back(-1)}}},[e._v("返回上一页")])]),t("a-form-model-item",{attrs:{label:"展示平台",prop:"platform"}},[t("a-checkbox-group",{model:{value:e.form.platform,callback:function(r){e.$set(e.form,"platform",r)},expression:"form.platform"}},[t("a-checkbox",{attrs:{value:"1",name:"platform"}},[e._v(" 微信 ")]),t("a-checkbox",{attrs:{value:"2",name:"platform"}},[e._v(" 抖音 ")])],1)],1),t("p",{staticClass:"brand"},[e._v("基本信息")]),t("a-form-model-item",{ref:"name",attrs:{label:"banner名称",prop:"name"}},[t("a-input",{on:{blur:function(){e.$refs.name.onFieldBlur()}},model:{value:e.form.name,callback:function(r){e.$set(e.form,"name",r)},expression:"form.name"}})],1),t("a-form-model-item",{ref:"logo",attrs:{label:"banner图片",prop:"logo"}},[t("a-upload",{staticClass:"avatar-uploader",attrs:{name:"avatar","list-type":"picture-card","show-upload-list":!1,"before-upload":e.beforeUpload},on:{change:e.handleChange}},[e.form.logo?t("img",{staticClass:"logo",attrs:{src:e.form.logo}}):t("div",[t("a-icon",{attrs:{type:e.loading?"loading":"plus"}})],1)])],1),t("a-form-model-item",{attrs:{label:"开关",prop:"toggle"}},[t("a-switch",{attrs:{"default-checked":""},model:{value:e.form.toggle,callback:function(r){e.$set(e.form,"toggle",r)},expression:"form.toggle"}})],1),t("a-form-model-item",{ref:"order",attrs:{label:"排序",prop:"order"}},[t("a-input",{on:{blur:function(){e.$refs.order.onFieldBlur()}},model:{value:e.form.order,callback:function(r){e.$set(e.form,"order",r)},expression:"form.order"}})],1),t("p",{staticClass:"brand"},[e._v("展示类型")]),t("a-form-model-item",{ref:"url",attrs:{label:"URL",prop:"url"}},[t("a-input",{on:{blur:function(){e.$refs.url.onFieldBlur()}},model:{value:e.form.url,callback:function(r){e.$set(e.form,"url",r)},expression:"form.url"}})],1),t("a-form-model-item",{attrs:{label:"详情图片",prop:"banner"}},[t("a-upload",{attrs:{action:"https://www.mocky.io/v2/5cc8019d300000980a055e76","list-type":"picture-card","file-list":e.fileList,multiple:"",accept:"image/*"},on:{preview:e.handleBannerPreview,change:e.handleBannerChange}},[e.fileList.length<6?t("div",[t("a-icon",{attrs:{type:"plus"}})],1):e._e()]),t("a-modal",{attrs:{visible:e.previewVisible,footer:null},on:{cancel:e.handleCancel}},[t("img",{staticStyle:{width:"100%"},attrs:{alt:"example",src:e.previewImage}})])],1)],1),t("div",{staticClass:"group-btn flex-e align-center"},[t("a-button",{staticClass:"btn-mr",on:{click:function(r){return e.$router.back(-1)}}},[e._v("取消")]),t("a-button",{attrs:{type:"primary"},on:{click:function(r){return e.$router.back(-1)}}},[e._v("保存")])],1)],1)])},o=[],n=t("1da1"),i=(t("d3b7"),t("96cf"),{data:function(){return{labelCol:{span:4},wrapperCol:{span:18},loading:!1,form:{platform:[],name:"",logo:"",toggle:"",order:"",banner:[],url:""},rules:{platform:[{required:!0,message:"此项必填",trigger:"blur"}],name:[{required:!0,message:"此项必填",trigger:"blur"}],logo:[{required:!0,message:"此项必填",trigger:"blur"}]},fileList:[],imgList:[],previewVisible:!1,previewImage:""}},methods:{getBase64:function(e,r){var t=new FileReader;t.addEventListener("load",(function(){return r(t.result)})),t.readAsDataURL(e)},handleChange:function(e){var r=this;"uploading"!==e.file.status?"done"===e.file.status&&this.getBase64(e.file.originFileObj,(function(e){r.form.logo=e,r.loading=!1})):this.loading=!0},handleDescChange:function(e){var r=this;"uploading"!==e.file.status?"done"===e.file.status&&this.getBase64(e.file.originFileObj,(function(e){r.form.desc=e,r.loading=!1})):this.loading=!0},handleQrcodeChange:function(e){var r=this;"uploading"!==e.file.status?"done"===e.file.status&&this.getBase64(e.file.originFileObj,(function(e){r.form.qrcode=e,r.loading=!1})):this.loading=!0},beforePrePictureUpload:function(e){var r=this;"uploading"!==e.file.status?"done"===e.file.status&&this.getBase64(e.file.originFileObj,(function(e){r.form.prePicture=e,r.loading=!1})):this.loading=!0},beforeUpload:function(e){var r=this;return this.getBase64(e,(function(e){r.form.logo=e})),!1},beforeDescUpload:function(e){var r=this;return this.getBase64(e,(function(e){r.form.desc=e})),!1},beforeQrcodeUpload:function(e){var r=this;return this.getBase64(e,(function(e){r.form.qrcode=e})),!1},handlePrePictureChange:function(e){var r=this;return this.getBase64(e,(function(e){r.form.prePicture=e})),!1},handleCancel:function(){this.previewVisible=!1},handleBannerPreview:function(e){var r=this;return Object(n["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e.url||e.preview){t.next=4;break}return t.next=3,l(e.originFileObj);case 3:e.preview=t.sent;case 4:r.previewImage=e.url||e.preview,r.previewVisible=!0;case 6:case"end":return t.stop()}}),t)})))()},handleBannerChange:function(e){var r=e.fileList;this.fileList=r}}});function l(e){return new Promise((function(r,t){var a=new FileReader;a.readAsDataURL(e),a.onload=function(){return r(a.result)},a.onerror=function(e){return t(e)}}))}var s=i,u=(t("cf9f"),t("2877")),c=Object(u["a"])(s,a,o,!1,null,"98e71cd0",null);r["default"]=c.exports},cf9f:function(e,r,t){"use strict";t("2071")}}]);