(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-eff97e8c"],{"3bea":function(e,t,a){"use strict";a("5a15")},"5a15":function(e,t,a){},cab8:function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"brand-sys-add"},[a("div",{staticClass:"card-box"},[a("a-form-model",{ref:"ruleForm",attrs:{model:e.form,rules:e.rules,"label-col":e.labelCol,"wrapper-col":e.wrapperCol}},[a("div",{staticClass:"flex-b"},[a("p",{staticClass:"brand"},[e._v("基本信息")]),a("a",{attrs:{href:"javascript:;"},on:{click:e.$close}},[e._v("返回上一页")])]),a("a-form-model-item",{ref:"name",attrs:{label:"品牌名称",prop:"name"}},[a("a-input",{on:{blur:function(){e.$refs.name.onFieldBlur()}},model:{value:e.form.name,callback:function(t){e.$set(e.form,"name",t)},expression:"form.name"}})],1),a("a-form-model-item",{attrs:{label:"礼物状态",prop:"status"}},[a("a-checkbox-group",{model:{value:e.form.status,callback:function(t){e.$set(e.form,"status",t)},expression:"form.status"}},[a("a-checkbox",{attrs:{value:"1",name:"status"}},[e._v(" 上架 ")])],1)],1),a("a-form-model-item",{attrs:{label:"展示平台",prop:"platform"}},[a("a-checkbox-group",{model:{value:e.form.platform,callback:function(t){e.$set(e.form,"platform",t)},expression:"form.platform"}},[a("a-checkbox",{attrs:{value:"1",name:"platform"}},[e._v(" 微信 ")]),a("a-checkbox",{attrs:{value:"2",name:"platform"}},[e._v(" 抖音 ")])],1)],1),a("p",{staticClass:"brand"},[e._v("礼物信息")]),a("a-form-model-item",{ref:"giftName",attrs:{label:"礼物名称",prop:"giftName"}},[a("a-input",{on:{blur:function(){e.$refs.giftName.onFieldBlur()}},model:{value:e.form.giftName,callback:function(t){e.$set(e.form,"giftName",t)},expression:"form.giftName"}})],1),a("a-form-model-item",{ref:"short",attrs:{label:"礼物简称",prop:"short"}},[a("a-input",{on:{blur:function(){e.$refs.short.onFieldBlur()}},model:{value:e.form.short,callback:function(t){e.$set(e.form,"short",t)},expression:"form.short"}})],1),a("a-form-model-item",{ref:"giftPicture",attrs:{label:"礼物图片",prop:"giftPicture"}},[a("a-upload",{staticClass:"avatar-uploader",attrs:{name:"avatar","list-type":"picture-card","show-upload-list":!1,"before-upload":function(t){return e.beforeUpload(t,"giftPicture")}},on:{change:function(t){return e.handleChange(t,"giftPicture")}}},[e.form.giftPicture?a("img",{staticClass:"logo",attrs:{src:e.form.giftPicture}}):a("div",[a("a-icon",{attrs:{type:e.loading?"loading":"plus"}})],1)])],1),a("a-form-model-item",{attrs:{label:"活动日期",prop:"activityDate"}},[a("a-date-picker",{staticStyle:{width:"100%"},attrs:{type:"date",placeholder:"请选择活动日期"},model:{value:e.form.activityDate,callback:function(t){e.$set(e.form,"activityDate",t)},expression:"form.activityDate"}})],1),a("a-form-model-item",{ref:"getTime",attrs:{label:"礼物获得时间设置",prop:"getTime"}},[a("div",{staticClass:"flex align-center"},[a("a-input",{staticClass:"btn-mr",attrs:{placeholder:"设置时间"},on:{blur:function(){e.$refs.getTime.onFieldBlur()}},model:{value:e.form.getTime,callback:function(t){e.$set(e.form,"getTime",t)},expression:"form.getTime"}}),e._v("S ")],1)]),a("p",{staticClass:"brand btn-mr"},[e._v("礼物发放设置")]),a("p",[a("a-button",{attrs:{type:"primary"},on:{click:e.addItem}},[e._v("添加项")])],1),a("div",{staticClass:"flex align-center"},[a("a-form-model-item",{staticClass:"f1",attrs:{labelCol:{span:8},wrapperCol:{span:16},label:"礼物发放时间",prop:"giftTime"}},[a("a-time-picker",{staticStyle:{width:"100%"},model:{value:e.form.giftTime,callback:function(t){e.$set(e.form,"giftTime",t)},expression:"form.giftTime"}})],1),a("a-form-model-item",{staticClass:"f1",attrs:{labelCol:{span:8},wrapperCol:{span:16},label:"微信数量",prop:"wx"}},[a("a-input",{attrs:{placeholder:"礼物数量"},model:{value:e.form.wx,callback:function(t){e.$set(e.form,"wx",t)},expression:"form.wx"}})],1),a("a-form-model-item",{staticClass:"f1",attrs:{labelCol:{span:8},wrapperCol:{span:16},label:"抖音数量",prop:"dy"}},[a("a-input",{attrs:{placeholder:"礼物数量"},model:{value:e.form.dy,callback:function(t){e.$set(e.form,"dy",t)},expression:"form.dy"}})],1)],1),e._l(e.list,(function(t,r){return a("div",{key:r,staticClass:"flex align-center"},[a("a-form-model-item",{staticClass:"f1",attrs:{labelCol:{span:8},wrapperCol:{span:16},label:"礼物发放时间"}},[a("a-time-picker",{staticStyle:{width:"100%"},model:{value:t.giftTime,callback:function(a){e.$set(t,"giftTime",a)},expression:"item.giftTime"}})],1),a("a-form-model-item",{staticClass:"f1",attrs:{labelCol:{span:8},wrapperCol:{span:16},label:"微信数量"}},[a("a-input",{attrs:{placeholder:"礼物数量"},model:{value:t.wx,callback:function(a){e.$set(t,"wx",a)},expression:"item.wx"}})],1),a("a-form-model-item",{staticClass:"f1",attrs:{labelCol:{span:8},wrapperCol:{span:16},label:"抖音数量"}},[a("a-input",{attrs:{placeholder:"礼物数量"},model:{value:t.dy,callback:function(a){e.$set(t,"dy",a)},expression:"item.dy"}})],1)],1)}))],2),a("div",{staticClass:"group-btn flex-e align-center"},[a("a-button",{staticClass:"btn-mr",on:{click:e.back}},[e._v("取消")]),a("a-button",{attrs:{type:"primary"},on:{click:e.save}},[e._v("保存")])],1)],1)])},i=[],l=a("1da1"),s=(a("d3b7"),a("96cf"),{data:function(){return{labelCol:{span:4},wrapperCol:{span:18},loading:!1,form:{name:"",status:[],platform:[],giftName:"",short:"",giftPicture:null,activityDate:"",getTime:null,giftTime:"",wx:"",dy:""},rules:{name:[{required:!0,message:"此项必填",trigger:"blur"}],platform:[{required:!0,message:"此项必填",trigger:"blur"}],giftName:[{required:!0,message:"此项必填",trigger:"blur"}],short:[{required:!0,message:"此项必填",trigger:"blur"}],giftPicture:[{required:!0,message:"此项必填",trigger:"blur"}],activityDate:[{required:!0,message:"此项必填",trigger:"blur"}],getTime:[{required:!0,message:"此项必填",trigger:"blur"}],giftTime:[{required:!0,message:"此项必填",trigger:"blur"}],wx:[{required:!0,message:"请设置数量",trigger:"blur"}],dy:[{required:!0,message:"请设置数量",trigger:"blur"}]},fileList:[],imgList:[],previewVisible:!1,previewImage:"",item:{time:"",wx:"",dy:""},list:[],pageList:[]}},methods:{createPage:function(e){return{keyPath:e.matched[e.matched.length-1].path,fullPath:e.fullPath,loading:!1,path:e.path,title:e.meta&&e.meta.page&&e.meta.page.title,unclose:e.meta&&e.meta.page&&!1===e.meta.page.closable}},back:function(){this.$close()},addItem:function(){this.list.push(this.item)},save:function(){var e=this;this.$refs.ruleForm.validate((function(t){if(!t)return!1;e.$router.back(-1)}))},getBase64:function(e,t){var a=new FileReader;a.addEventListener("load",(function(){return t(a.result)})),a.readAsDataURL(e)},handleChange:function(e,t){var a=this;"uploading"!==e.file.status?"done"===e.file.status&&this.getBase64(e.file.originFileObj,(function(e){a.form[t]=e,a.loading=!1})):this.loading=!0},beforeUpload:function(e,t){var a=this;return this.getBase64(e,(function(e){a.form[t]=e})),!1},handleCancel:function(){this.previewVisible=!1},handlePreview:function(e){var t=this;return Object(l["a"])(regeneratorRuntime.mark((function a(){return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:if(e.url||e.preview){a.next=4;break}return a.next=3,o(e.originFileObj);case 3:e.preview=a.sent;case 4:t.previewImage=e.url||e.preview,t.previewVisible=!0;case 6:case"end":return a.stop()}}),a)})))()},handleBannerChange:function(e){var t=e.fileList;this.fileList=t}}});function o(e){return new Promise((function(t,a){var r=new FileReader;r.readAsDataURL(e),r.onload=function(){return t(r.result)},r.onerror=function(e){return a(e)}}))}var n=s,m=(a("3bea"),a("2877")),c=Object(m["a"])(n,r,i,!1,null,"f0be6252",null);t["default"]=c.exports}}]);